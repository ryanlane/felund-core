# Felund Rendezvous â€” Apache configuration
# Place this file (and rendezvous.php) inside your document root or a subdirectory.
# Requires: mod_rewrite enabled

RewriteEngine On

# Route all requests (except existing files) through the PHP router
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^(.*)$ rendezvous.php [QSA,L]

# Deny direct HTTP access to the SQLite database file
<FilesMatch "\.(sqlite|sqlite3|db)$">
    <IfModule mod_authz_core.c>
        Require all denied
    </IfModule>
    <IfModule !mod_authz_core.c>
        Order deny,allow
        Deny from all
    </IfModule>
</FilesMatch>

# Deny access to .env files (credentials must never be served over HTTP)
<FilesMatch "^\.env(\..*)?$">
    <IfModule mod_authz_core.c>
        Require all denied
    </IfModule>
    <IfModule !mod_authz_core.c>
        Order deny,allow
        Deny from all
    </IfModule>
</FilesMatch>

# Prevent directory listing
Options -Indexes
